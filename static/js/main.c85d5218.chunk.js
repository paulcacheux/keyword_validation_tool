(this.webpackJsonpkeyword_validation_tool=this.webpackJsonpkeyword_validation_tool||[]).push([[0],{64:function(e,t,a){e.exports=a(76)},76:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(19),l=a.n(o),u=a(111),i=a(112),s=a(113),m=a(77),p=a(114),f=a(95),d=a(58),E=a(8),v=a.n(E),b=a(9),g=a(97),h=a(52),O=a.n(h),w=a(10),j=function(e){return new Promise((function(t,a){var n=new FileReader;n.onload=function(){var e=n.result;if("string"===typeof e){var r=JSON.parse(e);t(r)}else a("Expected string file content")},n.onerror=a,n.readAsText(e)}))},k="https://keyword-validation-tool.herokuapp.com",C=function(){var e=Object(b.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(k+"/",{signal:null===t||void 0===t?void 0:t.signal});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(v.a.mark((function e(t,a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(k+"/"+t,{signal:null===a||void 0===a?void 0:a.signal});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(v.a.mark((function e(t,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),S=function(){var e=Object(b.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(!(a=e.sent).status||"ok"!==a.status){e.next=5;break}return e.abrupt("return");case 5:throw new Error("error uploading document");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(v.a.mark((function e(t,a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(k+"/"+t,a);case 2:n=e.sent,S(n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.ERROR=1]="ERROR"}(n||(n={}));var R=function(e,t){return{type:e,status:n.SUCCESS,payload:t}},T=function(e,t){return{type:e,status:n.ERROR,error:t}},_=function(e){return function(){var t=Object(b.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"CLEAN_STATE_WORDS"}),t.next=4,j(e);case 4:n=t.sent,a(R("LOAD_LOCAL_FILE",n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(T("LOAD_LOCAL_FILE",t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},A=function(e,t){return{type:"CHANGE_RECORD_KEPT_STATE",word:e,kept:t}},F=Object(f.a)((function(e){return{button:{margin:e.spacing(1)},fileInput:{display:"none"}}})),L=function(){var e=F(),t=Object(w.b)(),a=function(){var e=Object(b.a)(v.a.mark((function e(a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=a.target.files)&&t(_(n[0]));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,{variant:"contained",color:"default",component:"label",className:e.button,startIcon:c.a.createElement(O.a,null)},"Upload",c.a.createElement("input",{type:"file",className:e.fileInput,onChange:a})))},D=Object(f.a)((function(e){return{root:{marginTop:e.spacing(2),padding:e.spacing(2)}}})),U=function(){var e=D();return c.a.createElement(d.a,{elevation:3,className:e.root},c.a.createElement(m.a,{variant:"h3"},"File upload"),c.a.createElement(L,null))},I=a(4),W=a(99),B=a(100),P=a(101),H=a(102),J=a(103),M=a(104),G=a(105),K=a(36),z=a(35),V=a(98),$=Object(f.a)((function(e){return{root:{marginTop:e.spacing(2)},table:{minWidth:650},head:{backgroundColor:e.palette.primary.main},headCell:{color:e.palette.common.white},keptRow:{backgroundColor:e.palette.success.light},removeRow:{backgroundColor:e.palette.error.light},buttonBox:{width:"30vh"}}})),q=Object(I.a)((function(e){return{root:{color:e.palette.getContrastText(K.a[500]),backgroundColor:K.a[500],"&:hover":{backgroundColor:K.a[700]},marginRight:"8px"}}}))(g.a),Q=Object(I.a)((function(e){return{root:{color:e.palette.getContrastText(z.a[500]),backgroundColor:z.a[500],"&:hover":{backgroundColor:z.a[700]}}}}))(g.a),X=Object(I.a)((function(e){return{root:{color:e.palette.getContrastText(V.a[500]),backgroundColor:V.a[500],"&:hover":{backgroundColor:V.a[700]}}}}))(g.a),Y=function(e){var t=e.word,a=e.info,n=$(),r=Object(w.b)(),o=null;o=void 0===a.kept?c.a.createElement(c.a.Fragment,null,c.a.createElement(q,{variant:"contained",onClick:function(){r(A(t,!0))}},"OK"),c.a.createElement(Q,{variant:"contained",onClick:function(){r(A(t,!1))}},"Reject")):c.a.createElement(c.a.Fragment,null,c.a.createElement(X,{variant:"contained",onClick:function(){r(A(t,void 0))}},"Restore"));var l="";return!0===a.kept?l=n.keptRow:!1===a.kept&&(l=n.removeRow),c.a.createElement(W.a,{className:l},c.a.createElement(B.a,{align:"left"},t),c.a.createElement(B.a,{align:"right"},a.score),c.a.createElement(B.a,{align:"right",className:n.buttonBox},o))},Z=function(e){var t=e.canBeEmpty,a=$(),n=Object(w.c)((function(e){return e.words}));return c.a.createElement(P.a,{component:d.a,className:a.root,elevation:3},c.a.createElement(H.a,{className:a.table,"aria-label":"simple table"},c.a.createElement(J.a,null,c.a.createElement(W.a,{className:a.head},c.a.createElement(B.a,{align:"left",className:a.headCell},"Word"),c.a.createElement(B.a,{align:"right",className:a.headCell},"Score"),c.a.createElement(B.a,null))),c.a.createElement(M.a,null,Object.keys(n).map((function(e){return c.a.createElement(Y,{key:e,word:e,info:n[e]})})))),!t&&0===Object.keys(n).length&&c.a.createElement(G.a,null))},ee=a(53),te=a.n(ee),ae=Object(f.a)((function(e){return{button:{margin:e.spacing(1)},fileInput:{display:"none"}}})),ne=function(e){var t=e.fileName,a=e.data,n=ae(),r="data:text/plain;charset=utf-8,"+a;return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,{variant:"contained",component:"a",color:"default",download:t,href:r,className:n.button,startIcon:c.a.createElement(te.a,null)},"Download"))},re=Object(f.a)((function(e){return{root:{padding:e.spacing(2),marginTop:e.spacing(2)}}})),ce=function(){var e=re(),t=Object(w.c)((function(e){return e.words})),a={};for(var n in t){t[n].kept&&(a[n]=t[n].score)}return c.a.createElement(d.a,{elevation:3,className:e.root},c.a.createElement(m.a,{variant:"h3"},"Output"),c.a.createElement(ne,{fileName:"output.json",data:JSON.stringify(a)}))},oe=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(U,null),c.a.createElement(Z,{canBeEmpty:!0}),c.a.createElement(ce,null))},le=a(21),ue=a(22),ie=a(24),se=a(115),me=a(107),pe=a(108),fe=a(109),de=a(110),Ee=a(116),ve=a(106),be=function(e){var t=e.path;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ee.a,{"aria-label":"breadcrumb"},c.a.createElement(ve.a,{color:"inherit",component:le.b,to:"/"},"Source Documents"),t&&c.a.createElement(m.a,{color:"textPrimary"},t)))},ge=Object(f.a)((function(e){return{gridContainer:{marginTop:e.spacing(1)}}})),he=function(){var e=ge(),t=function(){var e=Object(r.useState)([]),t=Object(ie.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),o=Object(ie.a)(c,2),l=o[0],u=o[1],i=Object(r.useState)(null),s=Object(ie.a)(i,2),m=s[0],p=s[1];return Object(r.useEffect)((function(){var e=new AbortController;function t(){return(t=Object(b.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u(!0),t.next=4,C(e);case 4:a=t.sent,n(a),p(null),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),"AbortError"!==t.t0.name&&(p(t.t0.message),n([]));case 12:u(!1);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e.abort()}}),[]),{documents:a,isLoading:l,error:m||void 0}}(),a=t.documents,n=t.isLoading,o=t.error;return c.a.createElement(c.a.Fragment,null,c.a.createElement(be,{path:"manage"}),o&&c.a.createElement(se.a,{severity:"error"},o),c.a.createElement(g.a,{color:"secondary",variant:"contained",component:le.b,to:"/"},"Manual"),c.a.createElement(me.a,{container:!0,spacing:2,className:e.gridContainer},n&&c.a.createElement(G.a,null),a.map((function(e,t){return c.a.createElement(me.a,{item:!0,xs:12,sm:4,lg:3,key:t},c.a.createElement(pe.a,{elevation:3},c.a.createElement(fe.a,null,c.a.createElement(m.a,{variant:"h5",component:"h2"},e.name),c.a.createElement(m.a,{color:"textSecondary"},e.result_count," result document",1===e.result_count?"":"s")),c.a.createElement(de.a,null,c.a.createElement(g.a,{size:"small",color:"primary",variant:"contained",component:le.b,to:"/".concat(e.id)},"Go"))))}))))},Oe=a(55),we=a.n(Oe),je=Object(f.a)((function(e){return{root:{padding:e.spacing(2),marginTop:e.spacing(2)},button:{margin:e.spacing(1)}}})),ke=function(e){var t=e.id,a=je(),n=Object(r.useState)(null),o=Object(ie.a)(n,2),l=o[0],u=o[1],i=Object(r.useState)(null),s=Object(ie.a)(i,2),m=s[0],p=s[1],f=Object(w.c)((function(e){return e.words})),E={},h=!0;for(var O in f){var j=f[O];void 0===j.kept&&(h=!1),!0===j.kept&&(E[O]=j.score)}if(!h||0===Object.keys(f).length)return null;var k=function(){var e=Object(b.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(t,E);case 3:u("Successfully published document"),p(null),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),p("Error: publishing document"),u(null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(d.a,{elevation:3,className:a.root},m&&c.a.createElement(se.a,{severity:"error"},m),l&&c.a.createElement(se.a,{severity:"success"},l),c.a.createElement(g.a,{variant:"contained",color:"default",className:a.button,startIcon:c.a.createElement(we.a,null),onClick:k},"Publish"))},Ce=function(){var e=Object(w.b)(),t=Object(ue.f)().id,a=t?parseInt(t):null;Object(r.useEffect)((function(){a&&e(function(e){return function(){var t=Object(b.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"CLEAN_STATE_WORDS"}),t.next=4,y(e);case 4:n=t.sent,a(R("FETCH_SOURCE_DOCUMENT",n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(T("FETCH_SOURCE_DOCUMENT",t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(a))}),[e,a]);var n=Object(w.c)((function(e){return e.currentFileName}));return a?c.a.createElement(c.a.Fragment,null,c.a.createElement(be,{path:n}),c.a.createElement(Z,null),c.a.createElement(ke,{id:a})):null},ye=Object(f.a)((function(e){return{title:{flexGrow:1},container:{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xe=a(37),Se={words:{},error:void 0},Ne=function(e){var t={};for(var a in e)t[a]={score:e[a],kept:void 0};return t},Re=function(e){return{words:Ne(e.data),currentFileName:e.name}},Te=a(25),_e=a(56),Ae=a(57),Fe=Object(Te.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAN_STATE_WORDS":return{currentFileName:void 0,error:void 0,words:{}};case"LOAD_LOCAL_FILE":switch(t.status){case n.SUCCESS:return{words:Ne(t.payload),error:void 0};case n.ERROR:return{words:{},error:t.error};default:return e}case"FETCH_SOURCE_DOCUMENT":switch(t.status){case n.SUCCESS:return Object(xe.a)({},Re(t.payload),{error:void 0});case n.ERROR:return{words:{},error:t.error};default:return e}case"CHANGE_RECORD_KEPT_STATE":var a=Object(xe.a)({},e.words);return a[t.word].kept=t.kept,Object(xe.a)({},e,{error:void 0,words:a});default:return e}}),Object(_e.composeWithDevTools)(Object(Te.applyMiddleware)(Ae.a)));l.a.render(c.a.createElement(w.a,{store:Fe},c.a.createElement((function(){var e=ye();return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,null),c.a.createElement(i.a,{position:"sticky"},c.a.createElement(s.a,null,c.a.createElement(m.a,{variant:"h6",className:e.title},"Keyword Validation Tool"))),c.a.createElement(p.a,{fixed:!0,className:e.container},c.a.createElement(le.a,{basename:"/"},c.a.createElement(ue.c,null,c.a.createElement(ue.a,{exact:!0,path:"/"},c.a.createElement(oe,null)),c.a.createElement(ue.a,{path:"/manage"},c.a.createElement(he,null)),c.a.createElement(ue.a,{path:"/:id"},c.a.createElement(Ce,null))))))}),null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[64,1,2]]]);
//# sourceMappingURL=main.c85d5218.chunk.js.map